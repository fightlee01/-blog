# css简单的基础知识
> 2018.8.12
## 前言
    学到现在，接触最多的还是js，css用的都很少了，大家都在使用UI框架，能够要求写的css代码量少之又少，但是这些基础知识不能丢啊！
## 正文
### 一、基础
#### 1.不同display的区别
- block
    - 独占一行，可以设置宽高，默认情况下充满父级元素的宽度
    - 可以设置padding和margin
    - 常见的块级元素有: div、p、h1~h5、ul、ol、dl、li、table等
- inline
    - 不占一行，与其他行内或者inline-block元素在同一行，如果一行不够显示会换行(换行时会以内容换行，不会以整个元素换行)，不能设置宽高，默认宽度为内容宽度
    - 可以设置水平方向的padding-left、padding-right和margin-left、margin-right
    - 常见的行内元素有: span、a、img、input等
- inline-block
    - 不占一行，与其他行内或者inline-block元素在同一行，如果一行不够显示会换行（换行时以整个元素换行），可以设置宽高，默认宽度为内容宽度
    - 可以设置padding和margin
- none
    - 直接不渲染
- flex(见下面)

#### 2.flex布局

#### 3.float
    浮动：比较老的布局方法，但是还是理解一下，不然一问三不知
float属性可以将元素脱离文 档流，而脱离后的位置上下位置是在其元素的上一个元素的底部（正常情况下，挡住后面的文档流），左右位置是根据float的属性值决定，若果后面跟的元素也设置了浮动且属性值一样，则会按照float设置的顺序排列，如果一行不够显示则会换行显示。

正常情况下

![image](/img/float.jpg)

B元素设置float: left，遮挡了后续的文档流中的C元素

![image](/img/float1.jpg)

B元素设置float: right

![image](/img/flaot2.jpg)

为了避免上面设置了浮动后会出现遮挡的情况发生，可以通过设置clear来清除后续浮动带来的影响，注意：设置清除浮动时只会影响到自身，如上面图二要清除浮动带来的效果应该设置C元素clear: left。

clear的属性值
- left
- right
- both
- none
#### 4.em和rem
- em: 相对长度单位，基于父级元素的字体大小计算，如果父级没有设置字体大小，则以浏览器默认字体大小计算
- rem: 相对长度单位，基于页面（<htm>）根元素的字体大小进行计算。
#### 5.position的不同区别
- static: 无定位，正常显示在文档流中
- relative: 先对定位，不脱离文档流，基于原本自身位置定位
- absolute: 绝对定位，脱离文档流，基于第一个postion为非static的祖先进行定位
- inherit: 继承
- fixed: 绝对定位，脱离文档流，基于浏览器窗口进行定位
#### 6.几种常用的居中写法

#### 7.关于盒模型
盒模型主要分为标准盒模型和IE盒模型（万恶的IE）
盒模型基本内容为
- content: 内容
- padding: 内边距
- border: 边框
- margin: 外边距
  
标准盒模型：width = content（默认的box-sizing：content-box),总宽度 = padding + margin + border + width

IE盒模型: width = content + padding + borde（这个现在可以通过设置box-sizing: border-box实现),总宽度  = width + margin

![image](/img/17.jpg)
### 二、css渲染的步骤
如图可以看出，首先浏览器通过获取的到的HTML解析成DOM，然后将CSS解析成CSSOM(CSS Object Model),然后将DOM和CSSOM结合生产Render Tree(渲染树)，接着通过Layout步骤，依照盒子模型，计算出每个节点在屏幕中的位置及尺寸，最后通过Paint,按照算出来的规则，通过显卡，把内容画到屏幕上。
![image](/img/16.jpg)
### 三、回流和重绘
    回流必定会引起重绘，重绘不一定会引起回流。
- 回流(reflow): 当页面中的某个元素的样式某个属性改变影响了页面布局，浏览器就会重新渲染，这个过程称为回流，reflow会根据这个root frame开始递归向下，依次计算所以节点的尺寸和位置，故回流的性能消耗会非常的大。
- 重绘(repaint): 当页面中某个元素的外观样式改变(背景色、边框颜色和一些不影响元素尺寸的属性)时，页面会进行重绘。

如何避免回流和重绘：
- 避免重复操作样式，最好一次将style属性重写，或者使用class来改变样式
- 避免频繁操作DOM,如果必要就创建一个documentFragment,在上面操作DOM，最后再添加到文档中
- 设置display：none，此时操作DOM不会引起回流和重绘，最后再显示回去，可以减少回流和重绘的次数
- 复杂的动画，使用绝对定位，将其脱离文档流，如果不这样就会引起父元素和后续元素的频繁回流
- 避免使用table布局

### 四、渐进增强和优雅降级
- 优雅降级：一开始就构建站点的完整功能，后续对浏览器进行测试和修复。从复杂的现在开始，通过减少用户体验的供给，就是对低版本浏览器的测试和修复。
- 渐进增强： 一开始针对低版本浏览器进行关键页面，完成基本的功能，然后再对高版本浏览器进行效果、交互、功能的追加来达到更好的体验。
  
总结：两者最大的区别是渐进增强跟注重内容，而优雅降级则更加偏向体验，一个是向后看，一个是向前看。

## 参考文章

- [你知道渐进增强和优雅降级吗？[css3兼容性写法]](https://juejin.im/post/58eda95261ff4b005819faf9)
- [回流VS重绘](https://juejin.im/post/5b72dbdb518825614f00576e)