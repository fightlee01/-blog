## React学习报告
#### 一、前言
由于没有太多的代码实践所以这里更多的是自己对React文档学习后的印象，当然实践出真知。(PS:这里会与Vue来比较的进行说明)


#### 二、JSX
首先React给我印象最深的是JSX，它有点像模板引擎，但是他更像js。这种js和html混合写的方式让我开始有点不习惯，尤其是在写逻辑复杂的代码的时候，很容易出现一些低级错误，显然这是大多数初学者的都有的问题，解决办法就是熟能生巧。

大致总结了一些优缺点：优点：方便编写页面结构和逻辑，抹去了在两种文件切换的时间。缺点：由于js和html混合带来的便是代码混乱，阅读性不高，这一点vue就是相反的，Vue则是更加规范，Vue的单文件组件将htlm、js和css包含成为一个文件，但是各自分界明显，这样代码结构清晰便于阅读，也更加符合组件的思想。



#### 三、组件
或许自己学过Vue的原因，对组件思想基本就是秒理解，虽然处理的方式不同，vue通过通过vue实例里面注册组件，React通过函数式组件或者类组件来完成组件的定义，每个组件都有自己独立的生命周期，每个生命节点都有相应的钩子供我们使用，对比而言React提供的钩子会少很多，还有值得注意的是在组件里定义的方法在使用用时要注意this的指向，必要时要使用bind()，这点Vue做的好很多，大多数情况下其内部的this始终都是组件自己。


#### 四、React的js逻辑 VS Vue的指令系统
可以看出React和Vue的一大区别就是指令系统，vue有完善的指令系统能够帮助开发者少些很多代码且学习成本很低，而React通过jsx来完成vue的指令，比如在条件渲染这块vue通过一个v-if搞定，而react则要通过if...else来完成，显然vue感觉会更加方便许多，而且代码的可阅读性明显Vue会更好，那么React在这方面岂不完败？其实也一定，由于JSX的特性，使用者其实就是在用js,而里面的html代码对我来说就是字符串罢了，这样会使开发者沉浸在js的世界里无法自拔，这种快感就比如全世界都在使用人民币一样，而vue你还是会在html和js两个思维逻辑中切换，这其中的切换时间就是差异。当然这种东西是仁者见仁智者见智，对我来说两个都喜欢，喜欢JSX带来的沉浸感，也喜欢Vue的简洁明了。


#### 五、数据传输和状态
在组件间数据的传输两者都很像，遵循单行数据流且都是向下，只能父组件向子组件传递props；而子组件要想改变父组件的数据也只能通过触发父组件监听的事件，这样做使得数据更加具有唯一性，便于查找BUG;有特点的是React特有一个State属性来作为何时页面更新的入口,这个属性有点像Vue的computed通过其他属性计算后形成的属性，React这里可以是对props计算或者自己初始化。在我看来state更像Vue的data，是组件内部私有的数据，也可作为props传给子组件。


#### 六、页面内容更新机制
很有趣在我看到React的页面更新机制，我以为会像Vue那样数据双向绑定，数据一变视图也会更新，Vue的大致原理是通过watcher进行依赖收集，然后setter被调用时通知watcher去更新视图，中间还有差异比较的过程，这样使得性能消耗降到最低，同时又能享受到响应式的体验；由于React通过ReactDOM.render()来渲染DOM，渲染后的DOM不能改变，更新的唯一办法只有向ReactDOM.render()重新丢入组件或者元素来达到更新的效果，看到这里我以为React会叫我们手动的去调用ReactDOM.render()来完成页面内容的更新，当后面看到State部分我就大致明白了其更新机制，其实和Vue差不多，只是这里收集的依赖是State,当State的属性变更时会自动触发ReactDOM.render()来完成内容更新，当然里面肯定还有对未变更内容的去除，达到性能优化的目的。（PS:React具体如何实现State变更来完成内容更新部分还未去研究，这里只是自己的猜测部分。）


#### 七、总结
整体来看在学习过Vue过后学习React会很快，基本把快速入门看一遍大致就能了解如何初步使用这个框架，毕竟有很多部分的设计很类似，且都以组件为核心部分，但是学习过程中有很多重要的部分为了快速我略过了，比如diff和Virtual Dom， 后续自己会跟进把这些东西补上。由于时间较短并没有对redux和react-router进行学习，希望自己后续能跟进并把React的实现原理弄明白。
