# 网络小结
>2018.8.1
## 前言
    网络有很多东西要学，范围涉及的很广，每一个都可以单独拿出来分析，这里只做一些简单的名词解释，会逐步增加内容。
## 正文
### 一、CDN
CDN（content delivery network）内容分发网络，一种优化用户上网体验的服务。由于一些用户离数据服务器很远，获取内容的时间往往会很长，为了减低访问时间，可以在用户附件多建立几个数据中心，但是这个成本高昂，而CDN就是属于一个公共服务（在只有交钱即可），在用户周围建立大量的CDN服务器，利用服务器对一些访问的数据进行缓存，来提高用户的上网体验。大致流程是用户进行访问的时候，会被分配给最近的CDN服务器，然后CDN服务器会查询访问内容是否有缓存，如果有进一步查询缓存是否过期，如果过期了CDN在去要访问服务器去拉取内容并缓存下来（这个过程称为回源），再返回给用户，如果缓存没有过期就直接把数据返回给用户。总结下来CDN的做了两件事：1）让用户访问最近的节点；2）从缓存服务器或者源站（网络真实的服务器）上获取数据。
![image](/img/02.png)
### 二、网络整体和各层的大致作用
一个http请求传输的整个过程大致是：首先通过
### 三、关于代理
### 四、跨域
### 五、cookie和session
### 六、HTTPS
    HTTPS相对于HTTP会更加安全，保证数据不被监听篡改冒充等风险。
HTTPS是在应用层(HTTP)和传输层加了一层SSL/TLS，来完成加密。具体的加密算法有：对称加密和非对称加密。

- 对称加密：两端都持有一个相同的密钥，加密和解密都是用这个秘钥，相对实现简单但维护困难，密钥困难泄漏。
- 非对称加密：一般是客户端公钥加密发送内容，服务端私钥解密内容，但是相应内容可能是私钥加密，公钥进行解密，如果攻击者获取到响应内容是可以通过公钥进行解密获取内容的，所以也不是绝对安全。
-  两者结合：先通过非对称密钥将对策密钥发给有私钥的对方，然后后续通讯则使用对策密钥加密，这样保证了对策密钥不外泄的风险。

整个过程还差一个重要步骤，客户端如何获取公钥且确认服务端不是黑客冒充；现在是通过证书认证来完成，服务端发送证书给客户端，然后客户端将证书上传到颁发者的机构去认证，如果为真则取出里面的公钥，对证书签名进行解密，得到一个hash，然后与响应中的hash比较，如果一直则获取公钥和验证服务器的过程就成功了。
### 七、HTTP2.0
现在主要使用的http版本还是1.1（2018），但是HTTP2.0早已经出来就等待市场来完成普及率，相对于1.1，2.0主要如下的优点：
- 更小的header：这使得对数据的传输效率有得到了提高
- 服务端push：服务端也可以主动推送一些消息给客户端给用户了，相信后续的网络应用会更加好。
- 多路复用：支持并行发送请求
- 二进制传输：1.1采用文本的形式传输数据，2.0直接通过二进制传输数据（这样在物理层不用编码直接传输）
- QUIC：Google出品基于UPD,由于多路复用还是基于TCP，还是属于一个水管的传输，当数据发送出错需要重传会发送队头阻塞，而UDP支持n*n（n>=1）传输，故UDP不会队头阻塞，且还实现了加密、重传和错误纠错，这样很肯能会替代TCP的地位。
### 参考文章
- [面向前端的CDN原理介绍 ](https://github.com/renaesop/blog/issues/1)